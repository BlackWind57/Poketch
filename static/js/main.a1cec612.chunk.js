(this.webpackJsonppoketch=this.webpackJsonppoketch||[]).push([[0],{81:function(e,n,t){},82:function(e,n,t){},83:function(e,n,t){},96:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),o=t(70),c=t.n(o),i=(t(81),t(21)),s=(t(82),t(10)),l=(t(83),t(48)),d=t(75),p=t(25);function b(e,n){switch(n.type){case"ADD_POKEMON":return Object(p.a)(Object(p.a)({},e),{},{pokemons:[].concat(Object(d.a)(e.pokemons),[n.payload])});case"FETCH_SUCCESS":return{pokemons:n.payload,loading:!1,error:"",bodyObject:n.payload};case"FETCH_ERROR":return{pokemons:e.pokemons,loading:!1,error:n.payload,bodyObject:{}};case"REMOVE_POKEMON":return Object(p.a)(Object(p.a)({},e),{},{pokemons:e.pokemons.filter((function(e){return e._id!==n.payload._id}))});default:return e}}var m,j,x,u,h,g,f,O,v,y,k,w,C,N,P,F,L,E,_=t(3),M={pokemons:[],loading:!0,error:"",bodyObject:""},T=Object(a.createContext)(M),S=function(e){var n=e.children,t=Object(a.useReducer)(b,M),r=Object(l.a)(t,2),o=r[0],c=r[1];return Object(_.jsx)(T.Provider,{value:{pokemons:o.pokemons,loading:o.loading,error:o.error,addPokemonToMyList:function(e){c({type:"ADD_POKEMON",payload:e})},removePokemonFromMyList:function(e){c({type:"REMOVE_POKEMON",payload:e})},fetchData:function(){try{o.loading&&fetch("http://localhost:5000/pokemon/my-list").then((function(e){return e.json()})).then((function(e){!function(e){c({type:"FETCH_SUCCESS",payload:e})}(e)})).catch((function(e){console.error(e),function(e){c({type:"FETCH_ERROR",payload:e})}(e)}))}catch(e){console.log(e)}}},children:n})},R=function(){return Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:"flex items-center mt-24 mb-10",children:Object(_.jsx)("div",{className:"flex-grow text-right px-4 py-2 m-2",children:Object(_.jsx)(i.b,{to:"/my-list",children:Object(_.jsx)("button",{className:"bg-green-400 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded inline-flex items-center",children:Object(_.jsx)("span",{className:"pl-2",children:"My Pokemons"})})})})})})},D=t(11),A=t(24),z=t(12),q={capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},$=Object(A.gql)(m||(m=Object(D.a)(["\n  query pokemons($limit: Int, $offset: Int) {\n    pokemons(limit: $limit, offset: $offset) {\n      count\n      next\n      previous\n      status\n      message\n      results {\n        url\n        name\n        image\n      }\n    }\n  }\n"]))),I={limit:130,offset:1},H=z.a.div(j||(j=Object(D.a)(["\n  text-align: center;\n"]))),J=z.a.img(x||(x=Object(D.a)(["\n  margin: 0 auto;\n"]))),K=z.a.div(u||(u=Object(D.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  margin-left: 20px;\n  margin-right: 20px;\n  justify-content: center;\n\n  /* Responsive layout - makes a one column layout instead of a two-column layout */\n  @media (max-width: 320) {\n    flex-direction: column;\n  }\n"]))),U=z.a.div(h||(h=Object(D.a)(["\n  padding-left: 5px;\n  padding-right: 5px;\n  margin-left: 5px;\n  margin-right: 5px;\n  height: 20vh;\n  -webkit-align-items: center;\n  align-items: center;\n  --tw-bg-opacity: 1;\n  background-color: rgba(243, 244, 246, var(--tw-bg-opacity));\n  margin-bottom: 10px;\n  --tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(0 0 #0000, 0 0 #0000), var(--tw-shadow);\n"]))),B=function(){Object(a.useContext)(T).addPokemonToMyList;var e=Object(A.useQuery)($,{variables:I}),n=e.loading,t=e.error,o=e.data;return n?"Loading...":t?"Error! ".concat(t.message):(console.log("Response from server",o),Object(_.jsx)(r.a.Fragment,{children:o.pokemons.results.length>0?Object(_.jsx)(K,{children:Object(_.jsx)(r.a.Fragment,{children:o.pokemons.results.map((function(e,n){return Object(_.jsx)(i.b,{to:"/detail/".concat(e.name),title:"",children:Object(_.jsx)(U,{children:Object(_.jsxs)(H,{children:[Object(_.jsx)(J,{src:e.image,alt:e.url}),Object(_.jsx)("p",{className:"text-gray-900 leading-none",children:q.capitalizeFirstLetter(e.name)})]})})},e.name)}))})}):Object(_.jsx)("p",{className:"text-center bg-gray-100 text-gray-500 py-5",children:"No data."})}))},Q=function(){return Object(_.jsx)(r.a.Fragment,{children:Object(_.jsxs)("div",{className:"container mx-auto",children:[Object(_.jsx)("h3",{className:"text-center text-3xl mt-20 text-base leading-8 text-black font-bold tracking-wide uppercase",children:"Pokemon List"}),Object(_.jsx)(R,{}),Object(_.jsx)(B,{})]})})},V=t(32),Y=t.n(V),G=t(47),W={randomNumber:function(){return Math.random()<.5?0:1}},X=Object(A.gql)(g||(g=Object(D.a)(["\n  query pokemon($name: String!) {\n    pokemon(name: $name) {\n      id\n      name\n      sprites {\n        front_default\n      }\n      abilities {\n        ability {\n          name\n        }\n      }\n      moves {\n        move {\n          name\n        }\n      }\n      types {\n        type {\n          name\n        }\n      }\n      message\n      status\n    }\n  }\n"]))),Z=z.a.div(f||(f=Object(D.a)(["\n  height: 100%;\n  min-height: 100vh;\n  background-image: linear-gradient(175deg, #eaee44, #33d0ff);\n  opacity: 0.7;\n\n  h4 {\n    font-weight: bold;\n    padding-top: 10px;\n  }\n"]))),ee=z.a.div(O||(O=Object(D.a)(["\n  justify-content: center;\n  margin-bottom: 25px;\n\n  img {\n    margin: 0 auto;\n    height: 30vh;\n  }\n"]))),ne=z.a.div(v||(v=Object(D.a)(["\n  margin: 0 10px;\n  background-color: rgba(243, 244, 246, 1);\n  box-shadow: var ( 0 0 #0000, 0 0 #0000), var(0 0 #0000, 0 0 #0000), var(0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06));\n  border-radius: 8px;\n  padding-bottom: 20px;\n  margin-bottom: 20px;\n"]))),te=z.a.div(y||(y=Object(D.a)(["\n  text-align: center;\n  font-weight: bold;\n  font-size: 24px;\n  padding-top: 30px;\n"]))),ae=z.a.div(k||(k=Object(D.a)(["\n  text-align: center;\n  padding: 20px auto;\n\n  a {\n    text-decoration: underline;\n    font-size: 14px;\n  }\n"]))),re=z.a.div(w||(w=Object(D.a)(["\n  margin-bottom: 20px;\n"]))),oe=z.a.div(C||(C=Object(D.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  p {\n    margin: 5px 0;\n    width: 50%;\n  }\n"]))),ce=z.a.div(N||(N=Object(D.a)(["\n  position: fixed;\n  bottom: 20px;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  background: transparent;\n\n  button {\n    margin: 5px 5px;\n    padding: 8px 16px;\n    font-weight: 600;\n    border-radius: 9999px;\n    color: rgba(31, 41, 55, 1);\n    display: inline-block;\n    background-color: rgba(209, 213, 219, 1);\n  }\n\n  button:hover {\n    background-color: rgba(156, 163, 175, 1);\n  }\n\n"]))),ie=function(e){var n=Object(a.useContext)(T),t=n.addPokemonToMyList,o=n.pokemons,c=n.fetchData,s=Object(a.useState)({count:4,expanded:!1}),d=Object(l.a)(s,2),b=d[0],m=d[1];Object(a.useEffect)((function(){c()}),[]);var j=Object(A.useQuery)(X,{variables:{name:e.match.params.name}}),x=j.loading,u=j.error,h=j.data;if(x)return"Loading...";if(u)return"Error! ".concat(u.message);var g=h.pokemon;console.log(o);var f=function(e){m(e?Object(p.a)(Object(p.a)({},b),{},{count:g.moves.length,expanded:e}):Object(p.a)(Object(p.a)({},b),{},{count:4,expanded:e}))},O=function(e,n){if(null==e)return!1;for(var t=0;t<o.length;t++)if(o[t].name===n.name&&o[t].nick_name.toLowerCase()===e.toLowerCase())return!0;return!1},v=function(){var e=Object(G.a)(Y.a.mark((function e(n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/pokemon/catch",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 3:e.sent.ok&&(alert(n.nick_name+" has been captured. You can view your pokemon on My Pokemons."),t(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return Object(_.jsx)(r.a.Fragment,{children:Object(_.jsxs)(Z,{children:[Object(_.jsx)(ee,{children:Object(_.jsx)("img",{src:g.sprites.front_default,alt:g.name})}),Object(_.jsxs)(ne,{children:[Object(_.jsx)(te,{children:q.capitalizeFirstLetter(g.name)}),Object(_.jsxs)(ae,{children:[Object(_.jsx)(re,{children:g.types.map((function(e,n){return Object(_.jsxs)("p",{children:[q.capitalizeFirstLetter(e.type.name)," Type"]},"i")}))}),Object(_.jsx)("hr",{}),Object(_.jsx)("h4",{children:"Moves"}),Object(_.jsx)(oe,{children:g.moves.slice(0,b.count).map((function(e,n){return Object(_.jsx)("p",{children:q.capitalizeFirstLetter(e.move.name)},e.move.name)}))}),!0===b.expanded?Object(_.jsx)("a",{onClick:function(e){return f(!1)},children:"Show Less"}):Object(_.jsx)("a",{onClick:function(e){return f(!0)},children:"Show More"})]})]}),Object(_.jsxs)(ce,{children:[Object(_.jsx)(i.b,{to:"/",title:"Pokemon Database",children:Object(_.jsx)("button",{children:"Database"})}),Object(_.jsx)("button",{onClick:function(e){try{if(1===W.randomNumber()){for(var n=prompt("Congratulations! You have captured a/an "+e.name+". Enter the pokemon's nickname.");O(n,e);)n=prompt("The entered nickname for that pokemon has already existed. Please enter a different nickname.");var t={name:e.name,nick_name:n,image_url:e.sprites.front_default};v(t)}else alert("Catching Pokemon Unsuccessful")}catch(a){console.log(a)}}.bind(undefined,g),title:"Add To My PokeList",children:"Catch"}),Object(_.jsx)(i.b,{to:"/my-list",title:"Pokemon Database",children:Object(_.jsx)("button",{children:"My Pokemon"})})]})]})})},se=z.a.div(P||(P=Object(D.a)(["\n  text-align: center;\n\n  button {\n    margin: 5px 5px;\n    padding: 8px 16px;\n    font-weight: 600;\n    border-radius: 9999px;\n    color: rgba(31, 41, 55, 1);\n    display: inline-block;\n    background-color: rgba(209, 213, 219, 1);\n  }\n\n  button:hover {\n    background-color: rgba(156, 163, 175, 1);\n  }\n"]))),le=z.a.img(F||(F=Object(D.a)(["\n  margin: 0 auto;\n"]))),de=z.a.div(L||(L=Object(D.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  margin-left: 20px;\n  margin-right: 20px;\n  justify-content: center;\n\n  /* Responsive layout - makes a one column layout instead of a two-column layout */\n  @media (max-width: 320) {\n    flex-direction: column;\n  }\n"]))),pe=z.a.div(E||(E=Object(D.a)(["\n  padding-left: 5px;\n  padding-right: 5px;\n  margin-left: 5px;\n  margin-right: 5px;\n  height: 25vh;\n  -webkit-align-items: center;\n  align-items: center;\n  --tw-bg-opacity: 1;\n  background-color: rgba(243, 244, 246, var(--tw-bg-opacity));\n  margin-bottom: 10px;\n  --tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(0 0 #0000, 0 0 #0000), var(--tw-shadow);\n"]))),be=function(){var e=Object(a.useContext)(T),n=e.pokemons,t=e.loading,o=e.error,c=e.removePokemonFromMyList,s=e.fetchData;Object(a.useEffect)((function(){s()}),[]);var l=function(){var e=Object(G.a)(Y.a.mark((function e(n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/pokemon/release",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 3:e.sent&&(alert(n.nick_name+" has been released."),c(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return Object(_.jsx)(r.a.Fragment,{children:Object(_.jsxs)("div",{className:"container mx-auto",children:[Object(_.jsx)("h3",{className:"text-center text-3xl mt-20 text-base leading-8 text-black font-bold tracking-wide uppercase",children:"Pokemon List"}),Object(_.jsx)("div",{className:"flex items-center mt-24 mb-10",children:Object(_.jsx)("div",{className:"flex-grow text-right px-4 py-2 m-2",children:Object(_.jsx)(i.b,{to:"/",children:Object(_.jsx)("button",{className:"bg-green-400 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded inline-flex items-center",children:Object(_.jsx)("span",{className:"pl-2",children:"Back To Pokemon List"})})})})}),Object(_.jsxs)(r.a.Fragment,{children:[t?"Loading":Object(_.jsx)(r.a.Fragment,{children:n.length>0?Object(_.jsx)(de,{children:Object(_.jsx)(r.a.Fragment,{children:n.map((function(e,n){return Object(_.jsx)(pe,{children:Object(_.jsxs)(se,{children:[Object(_.jsx)(le,{src:e.image_url,alt:e.name}),Object(_.jsx)("p",{className:"text-gray-900 leading-none",children:q.capitalizeFirstLetter(e.nick_name)}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{onClick:function(){return l(e)},title:"Remove",children:"Release"})})]})},e._id)}))})}):Object(_.jsx)("p",{className:"text-center bg-gray-100 text-gray-500 py-5",children:"No data."})}),o||null]})]})})};var me=function(){return Object(_.jsx)(S,{children:Object(_.jsx)("div",{className:"App",children:Object(_.jsxs)(s.c,{children:[Object(_.jsx)(s.a,{path:"/",component:Q,exact:!0}),Object(_.jsx)(s.a,{path:"/detail/:name",component:ie,exact:!0}),Object(_.jsx)(s.a,{path:"/my-list",component:be,exact:!0})]})})})},je=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,97)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),o(e),c(e)}))},xe=new A.ApolloClient({uri:"https://graphql-pokeapi.vercel.app/api/graphql",cache:new A.InMemoryCache});c.a.render(Object(_.jsx)(A.ApolloProvider,{client:xe,children:Object(_.jsx)(i.a,{basename:"https://blackwind57.github.io/Poketch",children:Object(_.jsx)(me,{})})}),document.getElementById("root")),je()}},[[96,1,2]]]);
//# sourceMappingURL=main.a1cec612.chunk.js.map